<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Answer the Survey</title>
    <!-- Latest compi4d and minified CSS & JS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
</head>

<body>
    <div class="container">
        <div class="jumbotron">
            <h1>Answer the Survey</h1>
            <h3>Make sure to be honest</h3>
            <hr>
            <a href="/">
                <button type="button" class="btn btn-danger btn-lg"><span class="glyphicon glyphicon-eye-open"></span> Current Reservations</button>
            </a>
        </div>
        <div class="row">
            <div class="panel-body">
                <form method="POST" role="form">
                    <div class="col-lg-12">
                        <div class="form-group">
                            <label for="name">Name</label>
                            <input type="text" class="form-control" id="name">
                        </div>
                        <div class="form-group">
                            <label for="picture">Picture</label>
                            <input type="text" name="pic" class="active" id="picture">
                        </div>
                    </div>
                </form>
            </div>
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title"><strong>Choose between 1 and 5. With 5 being "a must have" and 1 meaning "you don't care"!</strong></h3>
                    </div>
                    <div class="panel-body">
                        <form action="" role="form">
                            <div class="form-group">
                                <label for="question1"> How much are you attracted this feature....Intelligence?</label>
                                <br>
                                <input type="number" name="points" min="1" max="5" step="1" id="question1">
                            </div>
                            <div class="form-group">
                                <label for="question2">How much are you attracted this feature...."Looks/Physical appearance"?</label>
                                <br>
                                <input type="number" name="points" min="1" max="5" step="1" id="question2">
                                <br>
                                <br>
                            </div>
                            <div class="form-group">
                                <label for="question3">How much are you attracted this feature...."Humor"?</label>
                                <br>
                                <input type="number" name="points" min="1" max="5" step="1" id="question3">
                                <br>
                                <br>
                            </div>
                            <div class="form-group">
                                <label for="question4">How much are you attracted this feature...."Financial Success"?</label>
                                <br>
                                <input type="number" name="points" min="1" max="5" step="1" id="question4">
                                <br>
                                <br>
                            </div>
                            <div class="form-group">
                                <label for="question5"> Why do you date...."For Fun"?</label>
                                <br>
                                <input type="number" name="points" min="1" max="5" step="1" id="question5">
                                <br>
                                <br>
                            </div>
                            <div class="form-group">
                                <label for="question6"> Why do you date...."Potential future"?</label>
                                <br>
                                <input type="number" name="points" min="1" max="5" step="1" id="question6">
                                <br>
                                <br>
                            </div>
                            <div class="form-group">
                                <label for="question7"> What do you feel is a good first date choice...."Netflix and Chill"?</label>
                                <br>
                                <input type="number" name="points" min="1" max="5" step="1" id="question7">
                                <br>
                                <br>
                            </div>
                            <div class="form-group">
                                <label for="question8"> What do you feel is a good first date choice...."Lounge/Restaurant"?</label>
                                <br>
                                <input type="number" name="points" min="1" max="5" step="1" id="question8">
                                <br>
                                <br>
                            </div>
                            <div class="form-group">
                                <label for="question9">How do you prefer to communicate...."Texting/Social Media"?</label>
                                <br>
                                <input type="number" name="points" min="1" max="5" step="1" id="question9">
                                <br>
                                <br>
                            </div>
                            <div class="form-group">
                                <label for="question10">How do you prefer to communicate...."Talking on the Phone"?</label>
                                <br>
                                <input type="number" name="points" min="1" max="5" step="1" id="question10">
                                <br>
                                <br>
                            </div>
                            <button type="submit" class="btn btn-primary btn-md" data-target="modal1" id="add-btn"><span class="glyphicon glyphicon-fire"></span> Add to the Attempt</button>
                        </form>
                        <br>
                        <div class="text-right">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="modal1" class="form">
            <div class="form">
                <h4>Meet Your Future</h4>
                <h5 id="matchName"></h5>
                <img id="matchPic" src="" alt="No Image" width= 250px>
            </div>
            <div class="modal-footer">
                <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Done</a>
            </div>
        </div>
    </div>
</body>

</html>
<script type="text/javascript">
// Question: What does this code do?
$("#add-btn").on("click", function(event) {
    event.preventDefault();
    var newReversation = {
        name: $("#name").val().trim(),
        photo: $("#picture").val().trim(),
        scores: [{
                question1: $("#question1").val()
            },
            {
                question2: $("#question2").val()
            },
            {
                question3: $("#question3").val()
            },
            {
                question4: $("#question4").val()
            },
            {
                question5: $("#question5").val()
            },
            {
                question6: $("#question6").val()
            },
            {
                question7: $("#question7").val()
            },
            {
                question8: $("#question8").val()
            },
            {
                question9: $("#question9").val()
            },
            {
                question10: $("#question10").val()
            }
        ]
        // score: [
        //     $("question1").val(),
        //     $("question2").val(),
        //     $("question3").val(),
        //     $("question4").val(),
        //     $("question5").val(),
        //     $("question6").val(),
        //     $("question7").val(),
        //     $("question8").val(),
        //     $("question9").val(),
        //     $("question10").val(),
        // ]


    };


    console.log(newReversation);

    // Question: What does this code do??
    $.post("/api/friends", newReversation,
        function(data) {
            // console.log(data);
            alert("Adding Resevation...");
             //Grab the result from the AJAX post so that the best match's name and photo are displayed.
                $("#matchName").text(data.name);
                $("#matchPic").attr("src", data.photo);
            });
            // Show the modal with the best match
                $('#modal1');//.modal();
            
        
    $("#name").val("");
    $("#picture").val("");
    $("#question1").val("");
    $("#question2").val("");
    $("#question3").val("");
    $("#question4").val("");
    $("#question5").val("");
    $("#question6").val("");
    $("#question7").val("");
    $("#question8").val("");
    $("#question9").val("");
    $("#question10").val("");




});
</script>